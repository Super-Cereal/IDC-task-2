# Задание 2.

## ControlPanel

index.js инициализирует класс ControlPanel.
Теперь взаимодействовать с поступающими сущностями можно только через него.

При инициализации ControlPanel она обрабатывает весь массив сущностей и сохраняет их в себе, сортируя по типам. Кроме того сразу определяет текущий спринт и его коммиты, для дальнейшего пользования.

Имеет в себе множество функций по взаимодействию с сущностями.
Кроме того имеет несколько дополнительных функций, таких как функций Noun,
которая склоняет выбранное слово в зависимости от числа рядом с которым оно стоит.

Некоторые функции не содержат в себе логики, а лишь возвращают некоторые сущности, чтобы не приходилось доставать их вручную.

### Отдельно функция getSprintCommits

Функция ControlPanel.getSprintCommmits(sprint) возвращает все коммиты, сделанные за период спринта. Использует в себе алгоритм бинпоиска по отсортированном сущностям Commit.

К сожалению алгоритм быстрой сортировки оказался даже медленнее, чем простой .sort(a,b => a-b), поэтому я его не применял.

Сперва она находит самый первый коммит за спринт, затем последний и возвращает так же все что между ними.

## Файлы слайдов

Большинство файлов, формирующих слайды, имеют комментарии для лучшего понимания логики работы кода.

## Отдельно ActivityPage

Файл формирования данных для тепловой карты содержит в себе следующий код:

```ts
let hour = msSinceDayStart / (60 * 60 * 1000);
hour = Math.floor(hour) + (hour % 1 > 0.9 ? 1 : 0);
```

Вторая строка написана, чтобы результат функции соответствовал output.json из репозитория вашего задания. Экспериментально я выяснил, что если прошло больше 0.9 одного часа - то это уже второй час.
Я считаю, что это неправильно, а правильный код выглядел бы куда приятнее:

```ts
let hour = Math.floor(msSinceDayStart / (60 * 60 * 1000));
```

## Примененные технологии

Дополнительно я использовал только gulp, для сборки билда.
